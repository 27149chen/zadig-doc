---
title: 工作流任务的并发运行
date: 2021-03-16 17:43:52
permalink: /workflow/parallel/
---
本文主要介绍工作流任务的并发运行能力。
## 同一工作流同一任务的并发

同一工作流不同的步骤顺序执行，执行顺序为构建-部署-测试-分发。相同步骤任务并发执行，如下图所示。

![工作流执行顺序](../_images/workflow_parallel_2.png)
## 同一工作流不同任务的并发

Zadig 同一工作流任务支持并发执行，在工作流中选择`并发运行`，可以开启工作流任务的并发能力。当更新服务时触发该工作流，产生的多个任务将会并发执行以提升构建、部署、测试效率。

![工作流并发配置](../_images/workflow_parallel_1.png)

目前同一个工作流多个不同的任务支持的并发规则如下：
| | 手动触发 | 定时触发 | Webhook 触发 |
|---|---|---|---|
| 不同服务，同时构建             | √ | √ | x |
| 相同服务，同时构建             | √ | √ | x |
| 不同服务，构建部署到同环境      | √ | √ | √ |
| 不同服务，构建部署到不同环境    | √ | √ | √ |
| 相同服务，构建部署到不同环境    | x | x | √ |
| 相同服务，构建部署到同环境      | x | x | x |